<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Linux/x86 (vers 1 September 2005), see www.w3.org">
<meta http-equiv="Content-Type" content=
"text/html; charset=us-ascii">
<title>Chapter&nbsp;27.&nbsp;GSP Firmware</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.68.1">
<link rel="start" href="index.html" title=
"NVIDIA Accelerated FreeBSD Graphics Driver README and Installation Guide">
<link rel="up" href="installationandconfiguration.html" title=
"Part&nbsp;I.&nbsp;Installation and Configuration Instructions">
<link rel="prev" href="egpu.html" title=
"Chapter&nbsp;26.&nbsp;Configuring External and Removable GPUs">
<link rel="next" href="addressingcapabilities.html" title=
"Chapter&nbsp;28.&nbsp;Addressing Capabilities">
</head>
<body>
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr>
<th colspan="3" align="center">Chapter&nbsp;27.&nbsp;GSP
Firmware</th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href=
"egpu.html">Prev</a>&nbsp;</td>
<th width="60%" align="center">Part&nbsp;I.&nbsp;Installation and
Configuration Instructions</th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href=
"addressingcapabilities.html">Next</a></td>
</tr>
</table>
<hr></div>
<div class="chapter" lang="en">
<div class="titlepage">
<div>
<div>
<h2 class="title"><a name="gsp" id=
"gsp"></a>Chapter&nbsp;27.&nbsp;GSP Firmware</h2>
</div>
</div>
</div>
<p>Some GPUs include a GPU System Processor (GSP) which can be used
to offload GPU initialization and management tasks. This processor
is driven by firmware files distributed with the driver. The GSP
firmware is used by default on GPUs which support it.</p>
<p>Offloading tasks which were traditionally performed by the
driver on the CPU can improve performance due to lower latency
access to GPU hardware internals.</p>
<p>Firmware files are built into <code class=
"filename">nvidia_gsp_*_fw.ko</code> and installed in <code class=
"filename">/boot/modules</code>. Each GSP firmware module is named
after a GPU architecture (for example, <code class=
"filename">nvidia_gsp_tu10x_fw.ko</code> is named after Turing) and
supports GPUs from one or more architectures.</p>
<h3>Query Mode</h3>
<p>The nvidia-smi utility can be used to query the current use of
GSP firmware. It will display a valid version if GSP firmware is
enabled, or &ldquo;<span class="quote">N/A</span>&rdquo; if
disabled:</p>
<pre class="screen">
    $ nvidia-smi -q
    ...
       GSP Firmware Version                  : 570.133.07
    ...
</pre>
<p>This information is also present in a per-GPU sysctl
variable.</p>
<pre class="screen">
    $ sysctl hw.nvidia.gpus.0.firmware
    hw.nvidia.gpus.0.firmware: 570.133.07
</pre>
<p></p>
<h3>Disabling GSP Mode</h3>
<p>The driver can be forced to disable use of GSP firmware by
setting the sysctl variable
hw.nvidia.registry.EnableGpuFirmware=0.</p>
<h3>Enabling GSP Mode</h3>
<p>The GSP firmware will be used by default for all Turing and
later GPUs. The driver can be explicitly configured to use the GSP
firmware by setting the sysctl variable
hw.nvidia.registry.EnableGpuFirmware=1.</p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left"><a accesskey="p" href=
"egpu.html">Prev</a>&nbsp;</td>
<td width="20%" align="center"><a accesskey="u" href=
"installationandconfiguration.html">Up</a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href=
"addressingcapabilities.html">Next</a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top">
Chapter&nbsp;26.&nbsp;Configuring External and Removable
GPUs&nbsp;</td>
<td width="20%" align="center"><a accesskey="h" href=
"index.html">Home</a></td>
<td width="40%" align="right" valign="top">
&nbsp;Chapter&nbsp;28.&nbsp;Addressing Capabilities</td>
</tr>
</table>
</div>
</body>
</html>
